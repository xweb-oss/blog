---
date: 2016-5- 20
tag: 
 - vue官网
author: xweb
location: Alanbang
---

## vue官网
### 优先级 A 的规则：必要的 (规避错误)
1. 组件名为多个单词 ：避免跟现有的以及未来的 HTML 元素相冲突，因为所有的 HTML 元素名称都是单个单词的。

```js
good example
Vue.component('todo-item', {
  // ...
})
export default {
  name: 'TodoItem',
  // ...
}
```

### Prop 定义 
1. 在你提交的代码中，prop 的定义应该尽量详细，至少需要指定其类型。
```js
子组件props接收数据
<script>
export default {
    props: {
        title: String,
        likes: Number,
        isPublished: Boolean,
        commentIds: Array,
        // author: Object, 二种写法
        author: {
            type:Object,
            default:()=>{}
        },
        callback: Function,
        contactsPromise: Promise // or any other constructor
    }
}

</script>
父组件
1. 传递静态或动态 Prop

<blog-post title="My journey with Vue"></blog-post>

2. 你也知道 prop 可以通过 v-bind 动态赋值，例如：

<!-- 动态赋予一个变量的值 -->
<blog-post v-bind:author="tit"></blog-post>
<script>
export default {
    data(){
        tit:{
            aa:'数据一'，
            bb:'数据二'，
        }
    }
}
</script>


<!-- 动态赋予一个复杂表达式的值 -->
<blog-post
  v-bind:title="post.title + ' by ' + post.author.name"
></blog-post>
```

### 单向数据流
1. 所有的 prop 都使得其父子 prop 之间形成了一个单向下行绑定：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解

2. 额外的，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。（备注：可以间接改变）

### 插槽
【自己理解】简单的说就是能在引入的组件里面能添加内容：例如
```html
<!-- 父组组件 -->
<template>
  <div class="first-page">
    <div class="first-content">
        换个名字,来叫我。
      <child>
          <span>嗯哼?</span>
      </child>
  </div>
</template>

  <!-- 子组组件child.vue-->
<template>
    <div class="sidebar">
        <h1>1.我是子组件中的数据</h1>
        <div class="slot">
           <slot>  父组件中如果没有内容，我将被显示 </slot>
        </div>
    </div>
</template>

*****  1.当子组件中的<slot></slot>被注释掉后，父组件中的  <span>嗯哼?</span>就不会展示在页面上。

***** 2. 当父组件中的<child></child>中没有任何内容的时候，子组件中的 【父组件中如果没有内容，我将被显示】到页面上。
  ```

2. 具名插槽
```html
<!-- 父组组件 -->
<template>
  <div class="first-page">
    <div class="first-content">
      <span>具名插槽</span>
      <child>
           <span slot="name_slot" style="color: #11caff;">我将替换子组件slot name="name_slot"的具名插槽</span> 
      </child>
  </div>
</template>

<!-- 子组组件 child.vue-->
<template>
    <div class="sidebar">
        <div class="nameSlot">
            <slot name="name_slot"></slot>
        </div>
</template>
```

3. 作用域插槽
1. 有时让插槽内容能够访问子组件中才有的数据是很有用的

```html
<!-- 父组组件 -->
<template>
  <div class="first-page">
    <child>
        <template slot-scope="a">
            <p v-text="a.item"></p>
        </template>
          <!-- 拿到子组件的数据-->
    </child>
  </div>
</template>

<!-- 子组组件child.vue-->
<template>
    <div class="sidebar">
        <div>
            <ul>
                <li v-for="(item,index) in items" :key="index">
                    <slot :item='item'></slot>
                </li>
            </ul>
        </div>
    </div>
</template>
<script>
    export default {
        props:["arrayData"],
        data() {
            return {
                items:['aaa1','aaa2','aaa3','aaa4'],
                show:true
            }
        },
    }
</script>
```